<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="hu"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PersonId.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Spa Application</a> &gt; <a href="index.source.html" class="el_package">com.spa.demo.frontend.Cassa.Models</a> &gt; <span class="el_source">PersonId.java</span></div><h1>PersonId.java</h1><pre class="source lang-java linenums">package com.spa.demo.frontend.Cassa.Models;

import com.spa.demo.SpringManager;
import com.spa.demo.backend.Cupboard;
import com.spa.demo.backend.CupboardRepository;
import javafx.beans.property.IntegerProperty;
import javafx.beans.property.SimpleIntegerProperty;
import lombok.*;

import com.spa.demo.backend.Identification;
import org.springframework.context.ConfigurableApplicationContext;


import java.util.ArrayList;
import java.util.List;

@Getter
<span class="pc" id="L18">@Setter</span>
<span class="nc" id="L19">@ToString</span>
public class PersonId
{
    //Infos from buyerClass
<span class="fc" id="L23">    private String id;</span>
<span class="fc" id="L24">    private String buyerId;</span>

    //Tickets and Services 0-if doesn't have that type 1-if have
<span class="pc" id="L27">    private int AdultFellingTicket = 0;</span>
<span class="pc" id="L28">    private int StudentFellingTicket = 0;</span>
<span class="pc" id="L29">    private int FeelingPensionerTicket = 0;</span>
<span class="pc" id="L30">    private int AdultBeachTicket = 0;</span>
<span class="pc" id="L31">    private int StudentBeachTicket = 0;</span>
<span class="pc" id="L32">    private int PensionerBeachTicket = 0;</span>
<span class="pc" id="L33">    private int AdultThermalTicket = 0;</span>
<span class="pc" id="L34">    private int StudentThermalTicket = 0;</span>
<span class="pc" id="L35">    private int PensionerThermalTicket = 0;</span>
<span class="pc" id="L36">    private int Sauna = 0;</span>
<span class="pc" id="L37">    private int SafeDeposit = 0;</span>
<span class="pc" id="L38">    private int Lounger = 0;</span>
<span class="pc" id="L39">    private int SunBed = 0;</span>
<span class="pc" id="L40">    private int SunBedAtBeach = 0;</span>
<span class="pc" id="L41">    private int Baldachin = 0;</span>
<span class="pc" id="L42">    private int AquaParkTicket = 0;</span>
<span class="pc" id="L43">    private int PremiumTicket = 0;</span>
<span class="pc" id="L44">    private int Locker = 0;</span>

    //Balance info
<span class="pc" id="L47">    private IntegerProperty Balance = new SimpleIntegerProperty(0);</span>

    //Konstruktor csak két paramétert vár, első paraméter az egyedi azonosító, a második pedig a vevő azonosítója
    //A többi érték alapból 0-ra van állítva
    public PersonId(String id,String buyerId)
<span class="fc" id="L52">    {</span>
<span class="fc" id="L53">        this.id = id;</span>
<span class="fc" id="L54">        this.buyerId = buyerId;</span>
<span class="fc" id="L55">    }</span>

    public PersonId(Identification identification)
<span class="nc" id="L58">    {</span>
<span class="nc" id="L59">        ConfigurableApplicationContext context = SpringManager.getApplicationContext();</span>
<span class="nc" id="L60">        CupboardRepository cupboardRepository = context.getBean(CupboardRepository.class);</span>
<span class="nc" id="L61">        List&lt;Cupboard&gt; lockers = cupboardRepository.findAll();</span>
<span class="nc" id="L62">        this.Locker = 0;</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">        for(Cupboard locker : lockers)</span>
        {
<span class="nc bnc" id="L65" title="All 2 branches missed.">            if(locker.getIdentification().getPersonId().equals(id))</span>
            {
<span class="nc" id="L67">                Locker++;</span>
            }
<span class="nc" id="L69">        }</span>

<span class="nc" id="L71">        this.id = identification.getPersonId();</span>
<span class="nc" id="L72">        this.buyerId = identification.getPersonId();</span>
<span class="nc" id="L73">        this.AdultBeachTicket = identification.getAdultBeachTicket();</span>
<span class="nc" id="L74">        this.StudentBeachTicket = identification.getStudentBeachTicket();</span>
<span class="nc" id="L75">        this.PensionerBeachTicket = identification.getPensionerBeachTicket();</span>
<span class="nc" id="L76">        this.FeelingPensionerTicket = identification.getFeelingPensionerTicket();</span>
<span class="nc" id="L77">        this.AdultFellingTicket = identification.getAdultFellingTicket();</span>
<span class="nc" id="L78">        this.StudentFellingTicket = identification.getStudentFellingTicket();</span>
<span class="nc" id="L79">        this.AdultThermalTicket = identification.getAdultThermalTicket();</span>
<span class="nc" id="L80">        this.StudentThermalTicket = identification.getStudentThermalTicket();</span>
<span class="nc" id="L81">        this.PensionerThermalTicket = identification.getPensionerThermalTicket();</span>
<span class="nc" id="L82">        this.PremiumTicket = identification.getPremiumTicket();</span>
<span class="nc" id="L83">        this.AquaParkTicket = identification.getAquaParkTicket();</span>
<span class="nc" id="L84">        this.Sauna = identification.getSauna();</span>
<span class="nc" id="L85">        this.SafeDeposit = identification.getSafeDeposit();</span>
<span class="nc" id="L86">        this.Lounger = identification.getLounger();</span>
<span class="nc" id="L87">        this.SunBed = identification.getSunBed();</span>
<span class="nc" id="L88">        this.Baldachin = identification.getBaldachin();</span>
<span class="nc" id="L89">        this.SunBedAtBeach = identification.getSunBedAtTheBeach();</span>
<span class="nc" id="L90">        this.Balance.setValue(identification.getMoney());</span>
<span class="nc" id="L91">    }</span>

    //Listázza a personId-hoz tartózó szolgáltatások darabszámát szolgáltatásnév:darabszám szerint egy listába, de csak azokat aminek nem 0 a darabszáma
    //Visszatérési értéke egy lista
    public List&lt;String&gt; listServicesInfo()
    {
<span class="fc" id="L97">        List&lt;String&gt; infoList = new ArrayList&lt;String&gt;();</span>
<span class="fc" id="L98">        infoList.add(&quot;Szauna:&quot; + getSauna());</span>
<span class="fc" id="L99">        infoList.add(&quot;Értékmegőrző:&quot; + getSafeDeposit());</span>
<span class="fc" id="L100">        infoList.add(&quot;Pihenőágy:&quot; + getLounger());</span>
<span class="fc" id="L101">        infoList.add(&quot;Napozóágy:&quot; + getSunBed());</span>
<span class="fc" id="L102">        infoList.add(&quot;Napozóágy a tengerparton:&quot; + getSunBedAtBeach());</span>
<span class="fc" id="L103">        infoList.add(&quot;Baldachin a tengerparton:&quot; + getBaldachin());</span>
<span class="fc" id="L104">        infoList.add(&quot;Szekrény:&quot; + getLocker());</span>
<span class="fc" id="L105">        List&lt;String&gt; removedList = removeZeroValue(infoList);</span>
<span class="fc" id="L106">        return removedList;</span>
    }

    //Listázza a personId-hoz tartozó jegyek darabszámát jegynév:darabszám szerint egy listába
    //Visszatérési értéke egy lista
    public List&lt;String&gt; listTicketInfos()
    {
<span class="fc" id="L113">        List&lt;String&gt; infoList = new ArrayList&lt;String&gt;();</span>
<span class="fc" id="L114">        infoList.add(&quot;Felnőtt élményfürdő belépő:&quot; + getAdultFellingTicket());</span>
<span class="fc" id="L115">        infoList.add(&quot;Diák élményfürdő belépő:&quot; + getStudentFellingTicket());</span>
<span class="fc" id="L116">        infoList.add(&quot;Nyugdijas élményfürdő belépő:&quot; + getFeelingPensionerTicket());</span>
<span class="fc" id="L117">        infoList.add(&quot;Diák belépő:&quot; + getStudentBeachTicket());</span>
<span class="fc" id="L118">        infoList.add(&quot;Felnőtt belépő:&quot; + getAdultBeachTicket());</span>
<span class="fc" id="L119">        infoList.add(&quot;Nyugdíjas belépő:&quot; + getPensionerBeachTicket());</span>
<span class="fc" id="L120">        infoList.add(&quot;Diák Thermal belépő:&quot; + getStudentThermalTicket());</span>
<span class="fc" id="L121">        infoList.add(&quot;Felnőtt Thermal belépő:&quot; + getAdultThermalTicket());</span>
<span class="fc" id="L122">        infoList.add(&quot;Nyugdíjas Thermal belépő:&quot; + getPensionerThermalTicket());</span>
<span class="fc" id="L123">        infoList.add(&quot;Aquapark belépő:&quot; +  getAquaParkTicket());</span>
<span class="fc" id="L124">        infoList.add(&quot;Prémium belépőjegy:&quot; + getPremiumTicket());</span>
<span class="fc" id="L125">        return infoList;</span>
    }

    //Nem kell paraméter, a personId-hoz tartozó jegyek egy olyan listáját adja vissza amiben csak azok a jegyek szerepelnek aminek a darabszáma nem 0
    public List&lt;String&gt; listTicketsWithoutZeroValues()
    {
<span class="fc" id="L131">        List&lt;String&gt; list = listTicketInfos();</span>
<span class="fc" id="L132">        List&lt;String&gt; removed = removeZeroValue(list);</span>
<span class="fc" id="L133">        return removed;</span>
    }


    //A paraméterül kapott listából kitörli azokat az értéket amiben a kettőspont után 0 érték van
    //Visszatérési értéke a modosított lista
    private List&lt;String&gt; removeZeroValue(List&lt;String&gt; list)
    {
<span class="fc" id="L141">        List&lt;String&gt; newList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L142" title="All 2 branches covered.">        for(String element: list)</span>
        {
<span class="fc" id="L144">            String[] info = element.split(&quot;:&quot;);</span>
<span class="fc bfc" id="L145" title="All 2 branches covered.">            if(!(info[1].equals(&quot;0&quot;)))</span>
            {
<span class="fc" id="L147">                newList.add(element);</span>
            }
<span class="fc" id="L149">        }</span>
<span class="fc" id="L150">        return newList;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>